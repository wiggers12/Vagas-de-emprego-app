<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App Atleta</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #fff;
      color: #000;
      display: flex;
    }
    /* Sidebar */
    .sidebar {
      width: 220px;
      background: #000;
      color: #fff;
      height: 100vh;
      position: fixed;
      top: 0; left: 0;
      display: flex;
      flex-direction: column;
      padding-top: 20px;
    }
    .sidebar h2 {
      color: #FFD700;
      text-align: center;
    }
    .sidebar a {
      padding: 12px 20px;
      color: #fff;
      text-decoration: none;
      display: block;
    }
    .sidebar a:hover {
      background: #FFD700;
      color: #000;
    }
    /* Conteúdo principal */
    .main {
      margin-left: 220px;
      padding: 20px;
      width: 100%;
    }
    section {
      display: none;
    }
    section.active {
      display: block;
    }
    h1 {
      color: #FFD700;
    }
    .form-group {
      margin-bottom: 10px;
    }
    label { display: block; margin-bottom: 5px; }
    input, select, textarea {
      width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px;
    }
    button {
      padding: 10px 15px; background: #FFD700; border: none; border-radius: 5px; cursor: pointer;
    }
    button:hover { background: #000; color: #FFD700; }
    ul { list-style: none; padding: 0; }
    li { padding: 8px; border-bottom: 1px solid #ddd; }
    canvas { max-width: 100%; margin-top: 20px; }
  </style>
</head>
<body>
  <!-- Menu lateral -->
  <div class="sidebar">
    <h2>Atleta</h2>
    <a href="#" onclick="showSection('dashboard')">📊 Dashboard</a>
    <a href="#" onclick="showSection('cadastro')">📝 Cadastro</a>
    <a href="#" onclick="showSection('campeonatos')">🥋 Campeonatos</a>
    <a href="#" onclick="showSection('treinos')">🏋️ Treinos</a>
    <a href="#" onclick="showSection('metas')">🎯 Metas</a>
    <a href="#" onclick="showSection('dieta')">🍎 Dieta</a>
  </div>

  <!-- Conteúdo -->
  <div class="main">
    <!-- Dashboard -->
    <section id="dashboard" class="active">
      <h1>📊 Dashboard</h1>
      <canvas id="graficoVitorias"></canvas>
      <canvas id="graficoTreinos"></canvas>
      <canvas id="graficoMetas"></canvas>
    </section>

    <!-- Cadastro -->
    <section id="cadastro">
      <h1>📝 Cadastro do Atleta</h1>
      <form id="cadastroForm">
        <div class="form-group"><label>Nome</label><input type="text" id="nome"></div>
        <div class="form-group"><label>Sobrenome</label><input type="text" id="sobrenome"></div>
        <div class="form-group"><label>Idade</label><input type="number" id="idade"></div>
        <div class="form-group"><label>Graduação (faixa)</label><input type="text" id="graduacao"></div>
        <div class="form-group"><label>Tempo de treino</label><input type="text" id="tempoTreino"></div>
        <div class="form-group"><label>Peso (kg)</label><input type="number" id="peso" step="0.1"></div>
        <div class="form-group"><label>Altura (cm)</label><input type="number" id="altura"></div>
        <div class="form-group"><label>Equipe/Academia</label><input type="text" id="equipe"></div>
        <div class="form-group"><label>Objetivo principal</label><input type="text" id="objetivo"></div>
        <button type="submit">Salvar</button>
      </form>
    </section>

    <!-- Campeonatos -->
    <section id="campeonatos">
      <h1>🥋 Histórico de Campeonatos</h1>
      <form id="campeonatosForm">
        <div class="form-group"><label>Campeonatos já lutou</label><input type="number" id="campeonatosTotal"></div>
        <div class="form-group"><label>Vitórias</label><input type="number" id="vitorias"></div>
        <div class="form-group"><label>Derrotas</label><input type="number" id="derrotas"></div>
        <div class="form-group"><label>Melhor colocação</label><input type="text" id="colocacao"></div>
        <button type="submit">Salvar</button>
      </form>
    </section>

    <!-- Treinos -->
    <section id="treinos">
      <h1>🏋️ Registro de Treinos</h1>
      <form id="treinoForm">
        <div class="form-group"><label>Data</label><input type="date" id="treinoData"></div>
        <div class="form-group"><label>Duração (min)</label><input type="number" id="treinoDuracao"></div>
        <div class="form-group"><label>Descrição</label><input type="text" id="treinoDesc"></div>
        <button type="submit">Adicionar</button>
      </form>
      <h3>Histórico</h3>
      <ul id="listaTreinos"></ul>
    </section>

    <!-- Metas -->
    <section id="metas">
      <h1>🎯 Metas</h1>
      <form id="metaForm">
        <div class="form-group"><label>Meta</label><input type="text" id="metaTexto"></div>
        <div class="form-group"><label>Status</label>
          <select id="metaStatus">
            <option value="andamento">Em andamento</option>
            <option value="concluida">Concluída</option>
            <option value="atrasada">Atrasada</option>
          </select>
        </div>
        <button type="submit">Adicionar</button>
      </form>
      <h3>Lista de Metas</h3>
      <ul id="listaMetas"></ul>
    </section>

    <!-- Dieta -->
    <section id="dieta">
      <h1>🍎 Dieta Interativa</h1>
      <p>Área de alimentação personalizada em desenvolvimento.</p>
    </section>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    function showSection(id) {
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // LocalStorage helpers
    function salvarLS(chave, dados) { localStorage.setItem(chave, JSON.stringify(dados)); }
    function carregarLS(chave) { return JSON.parse(localStorage.getItem(chave) || "[]"); }

    // Treinos
    const treinoForm = document.getElementById("treinoForm");
    const listaTreinos = document.getElementById("listaTreinos");
    let treinos = carregarLS("treinos");

    function renderTreinos() {
      listaTreinos.innerHTML = "";
      treinos.forEach(t => {
        let li = document.createElement("li");
        li.textContent = `${t.data} - ${t.duracao}min - ${t.desc}`;
        listaTreinos.appendChild(li);
      });
      salvarLS("treinos", treinos);
      atualizarGraficos();
    }
    treinoForm.addEventListener("submit", e => {
      e.preventDefault();
      treinos.push({ data: treinoForm.treinoData.value, duracao: treinoForm.treinoDuracao.value, desc: treinoForm.treinoDesc.value });
      renderTreinos();
      treinoForm.reset();
    });
    renderTreinos();

    // Metas
    const metaForm = document.getElementById("metaForm");
    const listaMetas = document.getElementById("listaMetas");
    let metas = carregarLS("metas");

    function renderMetas() {
      listaMetas.innerHTML = "";
      metas.forEach(m => {
        let li = document.createElement("li");
        li.textContent = `${m.texto} - ${m.status}`;
        listaMetas.appendChild(li);
      });
      salvarLS("metas", metas);
      atualizarGraficos();
    }
    metaForm.addEventListener("submit", e => {
      e.preventDefault();
      metas.push({ texto: metaForm.metaTexto.value, status: metaForm.metaStatus.value });
      renderMetas();
      metaForm.reset();
    });
    renderMetas();

    // Gráficos
    const graficoVitorias = new Chart(document.getElementById("graficoVitorias"), {
      type: "pie",
      data: { labels: ["Vitórias", "Derrotas"], datasets: [{ data: [5, 2], backgroundColor: ["#FFD700", "#000"] }] }
    });

    const graficoTreinos = new Chart(document.getElementById("graficoTreinos"), {
      type: "bar",
      data: { labels: treinos.map(t => t.data), datasets: [{ label: "Duração (min)", data: treinos.map(t => t.duracao), backgroundColor: "#FFD700" }] }
    });

    const graficoMetas = new Chart(document.getElementById("graficoMetas"), {
      type: "doughnut",
      data: { labels: ["Concluídas", "Em andamento", "Atrasadas"], datasets: [{ data: [0,0,0], backgroundColor: ["#FFD700","#000","#ccc"] }] }
    });

    function atualizarGraficos() {
      graficoTreinos.data.labels = treinos.map(t => t.data);
      graficoTreinos.data.datasets[0].data = treinos.map(t => t.duracao);
      graficoTreinos.update();

      let concl = metas.filter(m => m.status==="concluida").length;
      let and = metas.filter(m => m.status==="andamento").length;
      let atr = metas.filter(m => m.status==="atrasada").length;
      graficoMetas.data.datasets[0].data = [concl,and,atr];
      graficoMetas.update();
    }
    atualizarGraficos();
  </script>
</body>
</html>