<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App do Atleta - Nutri√ß√£o Esportiva</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #28a745;
      --dark: #111;
      --light: #fff;
      --gray: #f5f5f5;
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif;}
    body{background:var(--gray);color:var(--dark);}
    header{background:var(--dark);color:var(--light);padding:20px;text-align:center;}
    header h1{font-size:1.8rem;}
    main{padding:20px;max-width:1200px;margin:auto;}

    section{background:var(--light);padding:15px;border-radius:8px;margin-bottom:20px;
      box-shadow:0 2px 6px rgba(0,0,0,0.1);}
    h2{margin-bottom:10px;color:var(--primary);font-size:1.3rem;}
    .progress-bar{height:20px;background:#ddd;border-radius:10px;overflow:hidden;margin-top:10px;}
    .progress-fill{height:100%;background:var(--primary);width:0%;transition:width 0.4s ease;}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;}
    .card{padding:10px;border:1px solid #ddd;border-radius:6px;text-align:center;cursor:pointer;}
    button{background:var(--primary);color:var(--light);padding:10px 15px;border:none;
      border-radius:6px;cursor:pointer;margin-top:5px;}
    button:hover{background:#218838;}
    input,select{padding:8px;width:100%;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;}
    table{width:100%;border-collapse:collapse;margin-top:10px;}
    table,th,td{border:1px solid #ddd;}
    th,td{padding:8px;text-align:center;}
    canvas{max-width:100%;margin:10px 0;}
  </style>
</head>
<body>
<header>
  <h1>Nutri√ß√£o Esportiva</h1>
  <p>Seu painel alimentar completo</p>
</header>
<main>
  <!-- Cadastro -->
  <section>
    <h2>üìã Cadastro Nutricional</h2>
    <form id="formCadastro">
      <input type="text" id="nome" placeholder="Nome" required>
      <input type="number" id="idade" placeholder="Idade" required>
      <input type="number" id="altura" placeholder="Altura (cm)" required>
      <input type="number" id="peso" placeholder="Peso (kg)" required>
      <select id="sexo" required>
        <option value="">Sexo</option>
        <option>Masculino</option>
        <option>Feminino</option>
      </select>
      <select id="atividade" required>
        <option value="">N√≠vel de atividade</option>
        <option>Sedent√°rio</option>
        <option>Moderado</option>
        <option>Intenso</option>
      </select>
      <select id="objetivo" required>
        <option value="">Objetivo</option>
        <option>Ganho de massa</option>
        <option>Perda de peso</option>
        <option>Manuten√ß√£o</option>
        <option>Performance</option>
      </select>
      <button type="submit">Salvar Cadastro</button>
    </form>
    <p id="resultadoCadastro"></p>
  </section>

  <!-- Plano Alimentar -->
  <section>
    <h2>ü•ó Plano Alimentar Di√°rio</h2>
    <form id="formRefeicao">
      <input type="text" id="alimento" placeholder="Alimento">
      <input type="number" id="calorias" placeholder="Calorias">
      <input type="number" id="proteina" placeholder="Prote√≠nas (g)">
      <input type="number" id="carbo" placeholder="Carboidratos (g)">
      <input type="number" id="gordura" placeholder="Gorduras (g)">
      <button type="submit">Adicionar</button>
    </form>
    <table>
      <thead>
        <tr>
          <th>Alimento</th><th>Calorias</th><th>P</th><th>C</th><th>G</th><th>A√ß√£o</th>
        </tr>
      </thead>
      <tbody id="tabelaRefeicoes"></tbody>
    </table>
    <div class="progress-bar"><div class="progress-fill" id="progressRefeicao"></div></div>
  </section>

  <!-- Macros -->
  <section>
    <h2>‚ö° Macros e Calorias</h2>
    <canvas id="chartMacros"></canvas>
    <canvas id="chartCalorias"></canvas>
  </section>

  <!-- Evolu√ß√£o corporal -->
  <section>
    <h2>üìà Evolu√ß√£o Corporal</h2>
    <canvas id="chartPeso"></canvas>
    <canvas id="chartMedidas"></canvas>
  </section>

  <!-- Hidrata√ß√£o -->
  <section>
    <h2>üíß Hidrata√ß√£o</h2>
    <p id="metaAgua">Meta: 3L/dia</p>
    <div class="progress-bar"><div class="progress-fill" id="aguaProgress"></div></div>
    <button onclick="beberAgua()">Beber 250ml</button>
  </section>

  <!-- Suplementa√ß√£o -->
  <section>
    <h2>üíä Suplementa√ß√£o</h2>
    <div class="grid" id="listaSuplementos">
      <div class="card" onclick="toggleCheck(this)">Whey Protein</div>
      <div class="card" onclick="toggleCheck(this)">Creatina</div>
      <div class="card" onclick="toggleCheck(this)">BCAA</div>
      <div class="card" onclick="toggleCheck(this)">Cafe√≠na</div>
    </div>
  </section>

  <!-- Receitas -->
  <section>
    <h2>üç≥ Receitas Fitness</h2>
    <div class="grid">
      <div class="card">Panqueca de aveia<br><small>20g prote√≠na</small></div>
      <div class="card">Shake p√≥s-treino<br><small>30g prote√≠na</small></div>
      <div class="card">Frango + Batata Doce<br><small>500 kcal</small></div>
    </div>
  </section>

  <!-- Gamifica√ß√£o -->
  <section>
    <h2>üèÜ Gamifica√ß√£o</h2>
    <p>Pontos: <span id="pontos">0</span></p>
    <p>Conquistas: <span id="conquistas">Nenhuma</span></p>
  </section>
</main>

<script>
let refeicoes=[];let agua=0;let pontos=0;

// Cadastro
document.getElementById("formCadastro").addEventListener("submit",e=>{
  e.preventDefault();
  const nome=document.getElementById("nome").value;
  const peso=document.getElementById("peso").value;
  const altura=document.getElementById("altura").value/100;
  const idade=document.getElementById("idade").value;
  const sexo=document.getElementById("sexo").value;
  let imc=(peso/(altura*altura)).toFixed(1);
  document.getElementById("resultadoCadastro").innerText=`${nome}, seu IMC √© ${imc}.`;
});

// Refei√ß√µes
document.getElementById("formRefeicao").addEventListener("submit",e=>{
  e.preventDefault();
  let alimento=document.getElementById("alimento").value;
  let calorias=+document.getElementById("calorias").value;
  let proteina=+document.getElementById("proteina").value;
  let carbo=+document.getElementById("carbo").value;
  let gordura=+document.getElementById("gordura").value;
  refeicoes.push({alimento,calorias,proteina,carbo,gordura});
  renderTabela();
});

function renderTabela(){
  let tabela=document.getElementById("tabelaRefeicoes");
  tabela.innerHTML="";
  let totalC=0,totalP=0,totalCa=0,totalG=0;
  refeicoes.forEach((r,i)=>{
    totalC+=r.calorias;totalP+=r.proteina;totalCa+=r.carbo;totalG+=r.gordura;
    tabela.innerHTML+=`<tr>
      <td>${r.alimento}</td><td>${r.calorias}</td><td>${r.proteina}</td>
      <td>${r.carbo}</td><td>${r.gordura}</td>
      <td><button onclick="removerRefeicao(${i})">X</button></td></tr>`;
  });
  atualizarGraficos(totalC,totalP,totalCa,totalG);
}
function removerRefeicao(i){refeicoes.splice(i,1);renderTabela();}

// Hidrata√ß√£o
function beberAgua(){
  agua+=0.25;let percent=(agua/3)*100;if(percent>100)percent=100;
  document.getElementById("aguaProgress").style.width=percent+"%";
}

// Suplementa√ß√£o
function toggleCheck(el){el.style.background=el.style.background?"":"#c3f7cf";pontos+=5;atualizarPontos();}

// Gamifica√ß√£o
function atualizarPontos(){document.getElementById("pontos").textContent=pontos;
if(pontos>=50)document.getElementById("conquistas").innerText="Atleta dedicado";}

// Gr√°ficos
let chartMacros=new Chart(document.getElementById("chartMacros"),{
  type:"pie",data:{labels:["Prote√≠nas","Carbo","Gorduras"],datasets:[{data:[0,0,0],backgroundColor:["#28a745","#007bff","#ffc107"]}]}
});
let chartCalorias=new Chart(document.getElementById("chartCalorias"),{
  type:"bar",data:{labels:["Meta","Consumido"],datasets:[{label:"Calorias",data:[2500,0],backgroundColor:["#007bff","#28a745"]}]}
});
let chartPeso=new Chart(document.getElementById("chartPeso"),{
  type:"line",data:{labels:["Sem1","Sem2","Sem3","Sem4"],datasets:[{label:"Peso",data:[80,79,78,77],borderColor:"#28a745",fill:false}]}
});
let chartMedidas=new Chart(document.getElementById("chartMedidas"),{
  type:"line",data:{labels:["Cintura","Peito","Bra√ßo"],datasets:[{label:"Medidas cm",data:[90,100,40],borderColor:"#007bff",fill:false}]}
});

function atualizarGraficos(cal,prot,carbo,gord){
  chartMacros.data.datasets[0].data=[prot,carbo,gord];chartMacros.update();
  chartCalorias.data.datasets[0].data=[2500,cal];chartCalorias.update();
}
</script>
</body>
</html>